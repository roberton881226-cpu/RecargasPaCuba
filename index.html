<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>RecargasPaCuba</title>

<!-- ICONOS PWA -->
<link rel="icon" type="image/png" sizes="192x192" href="icon-192.png" />
<link rel="icon" type="image/png" sizes="512x512" href="icon-512.png" />
<link rel="apple-touch-icon" href="icon-192.png" />
<link rel="manifest" href="manifest.json" />
<meta name="theme-color" content="#0d63c9" />

<style>
body {
    margin: 0;
    font-family: system-ui, sans-serif;
    background: #0d1117;
    color: #fff;
}

header {
    background: linear-gradient(90deg, #27a3ff, #0d63c9);
    padding: 25px 0 35px;
    text-align: center;
    font-size: 26px;
    font-weight: bold;
    color: #fff;
}

/* NavegaciÃ³n inferior */
nav {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    background: #161b22;
    display: flex;
    border-top: 1px solid #333;
}

nav button {
    flex: 1;
    padding: 15px 0;
    background: none;
    border: none;
    font-size: 16px;
    color: #aaa;
}

nav button.active {
    background: #0d63c9;
    color: white;
    font-weight: bold;
}

/* Contenido */
.container {
    padding: 20px;
    margin-bottom: 90px;
}

.card {
    background: #161b22;
    padding: 18px;
    margin-bottom: 18px;
    border-radius: 12px;
    box-shadow: 0px 0px 10px #0006;
}

.price {
    font-size: 24px;
    font-weight: bold;
    color: white;
}

.type {
    color: #ddd;
    font-size: 14px;
}

.useBtn {
    float: right;
    background: #0d63c9;
    border: none;
    color: white;
    padding: 10px 18px;
    border-radius: 10px;
}
</style>

</head>
<body>

<header>RecargasPaCuba</header>

<div class="container" id="view-home">

    <h2>EnvÃ­a recargas a Cuba</h2>
    <p style="color:#9ab;">Selecciona Cubacel o Nauta y el producto. Si estÃ¡s offline, se guarda localmente.</p>

    <!-- BOTONES PRINCIPALES -->
    <div style="display:flex; gap:10px; margin-bottom:15px;">
        <button id="btnCubacel" style="flex:1; padding:18px; font-size:18px; border-radius:12px; border:none; background:#27a3ff; color:white; font-weight:bold;">
            ðŸ‡¨ðŸ‡º Cubacel
        </button>

        <button id="btnNauta" style="flex:1; padding:18px; font-size:18px; border-radius:12px; border:none; background:#ff9f22; color:white; font-weight:bold;">
            ðŸ“¶ Nauta
        </button>
    </div>

    <!-- LISTA DE PRODUCTOS -->
    <div id="productList"></div>

</div>

<!-- HISTORIAL -->
<div class="container" id="view-history" style="display:none;">
    <h2>Historial</h2>
    <div id="historyList">Sin recargas</div>
</div>

<!-- CUENTA -->
<div class="container" id="view-account" style="display:none;">
    <h2>Cuenta</h2>
    <p style="color:#9ab;">Pronto podrÃ¡s configurar API, balance y mÃ¡s.</p>
</div>

<!-- MENÃš INFERIOR -->
<nav>
    <button id="nav-home" class="active">Inicio</button>
    <button id="nav-recargar">Recargar</button>
    <button id="nav-history">Historial</button>
    <button id="nav-account">Cuenta</button>
</nav>

<script>
// PRODUCTOS CUBACEL
const cubacel = [
    { price: "â‚¬ 10,42", desc: "Recibe: CUP 250 â€“ CUP 1247 (Min/Max)", type: "Recarga" },
    { price: "â‚¬ 20,84", desc: "Recharge 500 CUP + get 500 CUP + internet 10d", type: "Paquete 330 dÃ­as" },
    { price: "â‚¬ 20,84", desc: "5GB 4G + 4GB extra + 75 min + 80 SMS", type: "Paquete 30 dÃ­as" },
    { price: "â‚¬ 25,01", desc: "600 CUP + 3000 CUP + internet noche", type: "Paquete 330 dÃ­as" },
    { price: "â‚¬ 29,18", desc: "700 CUP + 700 CUP + data 24h", type: "Paquete 330 dÃ­as" },
    { price: "â‚¬ 31,26", desc: "10GB + 4GB + 165 min + 120 SMS", type: "Paquete 30 dÃ­as" },
    { price: "â‚¬ 41,68", desc: "16GB + 4GB + 165 min + 160 SMS", type: "Paquete 30 dÃ­as" }
];

// PRODUCTOS NAUTA
const nauta = [
    { price: "â‚¬ 8,12", desc: "CUP 360 saldo", type: "Recarga â€” 15 dÃ­as" },
    { price: "â‚¬ 8,12", desc: "Internet ilimitado 15 dÃ­as (50% off)", type: "Datos â€” 15 dÃ­as" },
    { price: "â‚¬ 13,53", desc: "CUP 600 saldo", type: "Recarga â€” 30 dÃ­as" },
    { price: "â‚¬ 13,53", desc: "Internet ilimitado 30 dÃ­as", type: "Datos â€” 30 dÃ­as" },
    { price: "â‚¬ 10,46 - 52,20", desc: "CUP 250 â€“ CUP 1247 (Min/Max)", type: "Recarga" }
];

// MOSTRAR PRODUCTOS
function loadProducts(list) {
    const box = document.getElementById("productList");
    box.innerHTML = "";
    list.forEach(item => {
        box.innerHTML += `
        <div class="card">
            <div class="price">${item.price}</div>
            <div class="type">${item.desc}<br><b>${item.type}</b></div>
            <button class="useBtn">Usar</button>
        </div>`;
    });
}

loadProducts(cubacel);

// CAMBIO DE LISTAS
document.getElementById("btnCubacel").onclick = () => loadProducts(cubacel);
document.getElementById("btnNauta").onclick = () => loadProducts(nauta);

// MENÃš INFERIOR
function show(section) {
    document.getElementById("view-home").style.display = "none";
    document.getElementById("view-history").style.display = "none";
    document.getElementById("view-account").style.display = "none";
    document.getElementById(section).style.display = "block";

    document.querySelectorAll("nav button").forEach(btn => btn.classList.remove("active"));
    document.getElementById("nav-" + section.replace("view-", "")).classList.add("active");
}

document.getElementById("nav-home").onclick = () => show("view-home");
document.getElementById("nav-recargar").onclick = () => show("view-home");
document.getElementById("nav-history").onclick = () => show("view-history");
document.getElementById("nav-account").onclick = () => show("view-account");
</script>

<!-- SERVICE WORKER REGISTRO -->
<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker
    .register("service-worker.js")
    .then(() => console.log("SW registrado con Ã©xito"))
    .catch(err => console.log("Error registrando SW:", err));
}
</script>

</body>
</html>
